<td width="100px">
    <div class="btn-group-vertical" role="group">
        <button 
            type="button" 
            class="btn btn-default"
            ng-click="moveUp(grid.rows, row)"
            ng-if="$parent.$index > 0"
            >
            <span class="glyphicon glyphicon-arrow-up"></span>&nbsp;
        </button>
        <button 
            type="button" 
            class="btn btn-default" 
            ng-click="moveDown(grid.rows, row)"
            ng-if="grid.rows.length - 1 > $parent.$index"
            >
            <span class="glyphicon glyphicon-arrow-down"></span>&nbsp;
        </button>
        <button type="button" class="btn btn-default" ng-click="remove(grid.rows, $index)">
            <span class="glyphicon glyphicon-remove"></span>&nbsp;
        </button>
        <button type="button" class="btn btn-default" ng-click="copy(grid.rows, row)">
            <span class="glyphicon glyphicon-duplicate"></span>&nbsp;
        </button>
        <button type="button" class="btn btn-default" ng-click="addColumn(row)">
            +
        </button>
        <div class="btn-group" role="group">
            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                <span class="glyphicon glyphicon-cog"></span>&nbsp;<span class="caret"></span>
            </button>
            <ul class="dropdown-menu" role="menu">
                <li><a ng-click="addColumn(row)">Добавить колонку</a></li>
                <li><a data-toggle="modal" data-target="#{{'row-' + rowIndex + '-modal'}}">Настройки</a></li>
            </ul>
        </div>
    </div>
    <div 
        class="modal"
        id="{{'row-' + rowIndex + '-modal'}}" 
        tabindex="-1" 
        role="dialog" 
        aria-labelledby="myModalLabel"
        >
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h4 class="modal-title" id="myModalLabel">Modal title</h4>
                </div>
                <div class="modal-body">
                    <select ng-model="row.type" class="form-control row-type">
                        <option value="default">default</option>
                        <option value="custom">custom</option>
                    </select>
                    <div class="checkbox">
                        <label>
                            <input type="checkbox" ng-model="row.iterate"> Повторять
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>
</td>
<td 
    ng-repeat="column in row.columns" 
    colspan="{{column.colspan}}" 
    style="min-width: 250px;" 
    ng-init="columnIndex = $index"
    id="{{'column-' + rowIndex + '-' + columnIndex}}"
    >
    <span ng-include="'modules/grids/tpls/column/' + column.type +'.html'"></span>
</td>
